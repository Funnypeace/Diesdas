<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Battlefield 6: Preisvergleich, Open Beta Reaktionen, Performance & Loadouts</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="description" content="Umfassender Vergleich der effektiven Endpreise für Battlefield 6 (Standard & Phantom) auf Epic, Steam und EA, inklusive EA Play-Rabatt und Epic Rewards sowie Open-Beta-Analysen." />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    h1 {
      text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
    }
    /* Responsive Tabellen für mobile Geräte */
    @media (max-width: 480px) {
      table, thead, tbody, th, td, tr { display: block; }
      thead tr { position: absolute; top: -9999px; left: -9999px; }
      tr { border: 1px solid #e2e8f0; margin-bottom: 1rem; border-radius: 0.5rem; }
      td { border: none; border-bottom: 1px solid #edf2f7; position: relative; padding-left: 50%; text-align: right !important; }
      td:last-child { border-bottom: 0; }
      td:before {
        position: absolute;
        top: 0.6rem;
        left: 0.75rem;
        width: 46%;
        padding-right: 0.5rem;
        white-space: nowrap;
        content: attr(data-label);
        font-weight: 600;
        text-align: left;
        color: #4a5568;
      }
      .weapon-name { text-align: left !important; }
    }
    button, input, select { min-height: 44px; }
    .safe-area { padding-left: env(safe-area-inset-left); padding-right: env(safe-area-inset-right); }
  </style>
</head>
<body class="bg-gradient-to-br from-gray-100 to-gray-200 text-gray-900 leading-relaxed">
  <div class="max-w-7xl mx-auto my-8 p-4 sm:p-6 lg:p-10 space-y-8">
    <h1 class="text-4xl font-extrabold text-center text-gray-800 mb-8">🎮 Battlefield 6: Preisvergleich, Open Beta Reaktionen, Performance & Loadouts</h1>
    <!-- Preisvergleich Sektion -->
    <div class="bg-white rounded-3xl shadow-xl p-8">
      <header class="mb-8">
        <h2 class="text-3xl font-bold text-gray-700 border-b-4 border-blue-500 pb-2 mb-6">Battlefield 6 – Effektivpreise</h2>
        <p class="mt-2 text-gray-600">Vergleich für <span class="font-medium">Epic Games Store</span>, <span class="font-medium">Steam</span> und <span class="font-medium">EA App</span> mit <span class="font-medium">10 % EA Play‑Rabatt</span> und (bei Epic) <span class="font-medium">20 % Epic Rewards</span>.</p>
      </header>
      <section class="mb-6 grid gap-6 lg:grid-cols-3">
        <div class="bg-gray-50 rounded-2xl shadow-sm border p-6">
          <h3 class="font-semibold mb-4 text-xl text-gray-800">Grundpreise</h3>
          <label class="block text-sm mb-2" for="priceStandard">Standard Edition (€)</label>
          <input id="priceStandard" type="number" step="0.01" class="w-full rounded-xl border border-gray-300 px-4 py-2 focus:ring-blue-500 focus:border-blue-500" value="69.99" />
          <label class="block text-sm mt-4 mb-2" for="pricePhantom">Phantom Edition (€)</label>
          <input id="pricePhantom" type="number" step="0.01" class="w-full rounded-xl border border-gray-300 px-4 py-2 focus:ring-blue-500 focus:border-blue-500" value="99.99" />
        </div>
        <div class="bg-gray-50 rounded-2xl shadow-sm border p-6">
          <h3 class="font-semibold mb-4 text-xl text-gray-800">Rabatte & Rewards</h3>
          <label class="block text-sm mb-2" for="eaPlayDiscount">EA Play Rabatt (%)</label>
          <input id="eaPlayDiscount" type="number" step="0.1" class="w-full rounded-xl border border-gray-300 px-4 py-2 focus:ring-blue-500 focus:border-blue-500" value="10" />
          <div class="mt-4 flex items-center gap-4">
            <div class="flex-1">
              <label class="block text-sm mb-2" for="epicRewards">Epic Rewards (%)</label>
              <input id="epicRewards" type="number" step="0.1" class="w-full rounded-xl border border-gray-300 px-4 py-2 focus:ring-blue-500 focus:border-blue-500" value="20" />
            </div>
            <label class="mt-6 inline-flex items-center gap-2 text-sm text-gray-700">
              <input id="useRewards" type="checkbox" class="rounded text-blue-600 focus:ring-blue-500" checked />
              Epic Rewards anwenden (Epic)
            </label>
          </div>
        </div>
        <div class="bg-gray-50 rounded-2xl shadow-sm border p-6">
          <h3 class="font-semibold mb-4 text-xl text-gray-800">EA Play Monatskosten</h3>
          <div class="grid grid-cols-3 gap-3">
            <div>
              <label class="block text-xs mb-1" for="feeEpic">Epic (€)</label>
              <input id="feeEpic" type="number" step="0.01" class="w-full rounded-xl border border-gray-300 px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500" value="0.95" />
            </div>
            <div>
              <label class="block text-xs mb-1" for="feeSteam">Steam (€)</label>
              <input id="feeSteam" type="number" step="0.01" class="w-full rounded-xl border border-gray-300 px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500" value="0.99" />
            </div>
            <div>
              <label class="block text-xs mb-1" for="feeEA">EA App (€)</label>
              <input id="feeEA" type="number" step="0.01" class="w-full rounded-xl border border-gray-300 px-3 py-2 text-sm focus:ring-blue-500 focus:border-blue-500" value="0.99" />
            </div>
          </div>
        </div>
      </section>
      <section class="mb-6 text-xs text-gray-600">
        <p>Hinweise: Der 10 % EA Play‑Rabatt ist plattformgebunden. Epic Rewards werden nur bei Epic angewendet und als Store‑Guthaben gutgeschrieben.</p>
      </section>
      <div id="errorBanner" class="hidden mb-4 rounded-xl border border-red-200 bg-red-50 text-red-700 p-3 text-sm"></div>
      <section class="space-y-10">
        <div>
          <h2 class="text-2xl font-bold mb-4 text-gray-800">Standard Edition</h2>
          <div class="grid gap-6 md:grid-cols-3">
            <div class="bg-gray-50 rounded-2xl border border-gray-200 shadow-sm p-6 min-w-0" id="card-std-epic"></div>
            <div class="bg-gray-50 rounded-2xl border border-gray-200 shadow-sm p-6 min-w-0" id="card-std-steam"></div>
            <div class="bg-gray-50 rounded-2xl border border-gray-200 shadow-sm p-6 min-w-0" id="card-std-ea"></div>
          </div>
        </div>
        <div>
          <h2 class="text-2xl font-bold mb-4 text-gray-800">Phantom Edition</h2>
          <div class="grid gap-6 md:grid-cols-3">
            <div class="bg-gray-50 rounded-2xl border border-gray-200 shadow-sm p-6 min-w-0" id="card-ph-epic"></div>
            <div class="bg-gray-50 rounded-2xl border border-gray-200 shadow-sm p-6 min-w-0" id="card-ph-steam"></div>
            <div class="bg-gray-50 rounded-2xl border border-gray-200 shadow-sm p-6 min-w-0" id="card-ph-ea"></div>
          </div>
        </div>
        <div class="bg-gray-50 rounded-2xl border border-gray-200 shadow-sm p-6">
          <div class="flex items-center justify-between">
            <h2 class="text-xl font-semibold text-gray-800">Selbsttest</h2>
            <button id="runTests" class="text-sm px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-gray-100 transition-colors duration-200">Tests ausführen</button>
          </div>
          <p class="text-gray-600 text-sm mt-3">Prüft Beispielrechnungen mit den Standardwerten oben (69,99 €/99,99 €, 10 % Rabatt, 20 % Rewards, EA Play 0,95 €/0,99 €).</p>
          <ul id="testList" class="mt-4 text-sm list-disc pl-5 space-y-2 text-gray-800"></ul>
        </div>
      </section>
    </div>
    <footer class="mt-10 text-xs text-gray-500 text-center">
      <p>Stand: 13.08.2025 · Werte anpassbar oben. Diese Seite rechnet rein mathematisch und berücksichtigt keine zukünftigen Preisaktionen.</p>
    </footer>
  </div>
  <script>
    // Preisberechnung und UI Logik
    const formatEuro = n => Number(n).toLocaleString("de-DE", { style: "currency", currency: "EUR" });
    function calcEffective(base, opts) {
      const { eaPlayActive, eaPlayFee, discountPct, rewardsPct, applyRewards } = opts;
      const b = isFinite(base) ? base : 0;
      const discount = eaPlayActive && discountPct > 0 ? b * discountPct / 100 : 0;
      const afterDiscount = b - discount;
      const rewards = applyRewards && rewardsPct > 0 ? afterDiscount * rewardsPct / 100 : 0;
      const net = afterDiscount - rewards;
      const fee = eaPlayActive && eaPlayFee > 0 ? eaPlayFee : 0;
      const effective = Math.max(0, net + fee);
      return { discount, afterDiscount, rewards, net, fee, effective };
    }
    function cardHTML(platform, base, r) {
      return `
        <div class="flex items-baseline justify-between">
          <h3 class="text-base sm:text-lg font-semibold text-gray-900">${platform}</h3>
          <div class="text-xs sm:text-sm px-2 sm:px-3 py-1 rounded-full bg-blue-100 text-blue-800">Effektiv</div>
        </div>
        <div class="mt-2 text-3xl sm:text-4xl font-bold text-gray-900">${formatEuro(r.effective)}</div>
        <dl class="mt-4 space-y-1.5 text-sm sm:text-base text-gray-700">
          <div class="flex justify-between gap-3"><dt class="text-gray-600">Grundpreis</dt><dd>${formatEuro(base)}</dd></div>
          <div class="flex justify-between gap-3"><dt class="text-gray-600">EA Play Rabatt</dt><dd>${r.discount > 0 ? `− ${formatEuro(r.discount)}` : "–"}</dd></div>
          <div class="flex justify-between gap-3"><dt class="text-gray-600">Zwischensumme</dt><dd>${formatEuro(r.afterDiscount)}</dd></div>
          <div class="flex justify-between gap-3"><dt class="text-gray-600">Epic Rewards</dt><dd>${r.rewards > 0 ? `− ${formatEuro(r.rewards)}` : "–"}</dd></div>
          <div class="flex justify-between gap-3"><dt class="text-gray-600">EA Play Monat</dt><dd>${r.fee > 0 ? `+ ${formatEuro(r.fee)}` : "–"}</dd></div>
        </dl>`;
    }
    function showError(msg) {
      const el = document.getElementById('errorBanner');
      if (!msg) { el.classList.add('hidden'); el.textContent = ''; }
      else { el.classList.remove('hidden'); el.textContent = msg; }
    }
    function renderPrices() {
      try {
        showError('');
        // Grundpreise holen
        const priceStandard = parseFloat(document.getElementById('priceStandard').value || '0');
        const pricePhantom = parseFloat(document.getElementById('pricePhantom').value || '0');
        // Rabatte/Einstellungen holen
        const eaPlayDiscount = parseFloat(document.getElementById('eaPlayDiscount').value || '0');
        const epicRewards = parseFloat(document.getElementById('epicRewards').value || '0');
        const useRewards = document.getElementById('useRewards').checked;
        // EA Play Monatskosten
        const feeEpic = parseFloat(document.getElementById('feeEpic').value || '0');
        const feeSteam = parseFloat(document.getElementById('feeSteam').value || '0');
        const feeEA = parseFloat(document.getElementById('feeEA').value || '0');
        // Standard Edition Karten
        const stdEpic = calcEffective(priceStandard, { eaPlayActive: true, eaPlayFee: feeEpic, discountPct: eaPlayDiscount, rewardsPct: epicRewards, applyRewards: useRewards });
        const stdSteam = calcEffective(priceStandard, { eaPlayActive: true, eaPlayFee: feeSteam, discountPct: eaPlayDiscount, rewardsPct: 0, applyRewards: false });
        const stdEA = calcEffective(priceStandard, { eaPlayActive: true, eaPlayFee: feeEA, discountPct: eaPlayDiscount, rewardsPct: 0, applyRewards: false });
        document.getElementById('card-std-epic').innerHTML = cardHTML("Epic Games", priceStandard, stdEpic);
        document.getElementById('card-std-steam').innerHTML = cardHTML("Steam", priceStandard, stdSteam);
        document.getElementById('card-std-ea').innerHTML = cardHTML("EA App", priceStandard, stdEA);
        // Phantom Edition Karten
        const phEpic = calcEffective(pricePhantom, { eaPlayActive: true, eaPlayFee: feeEpic, discountPct: eaPlayDiscount, rewardsPct: epicRewards, applyRewards: useRewards });
        const phSteam = calcEffective(pricePhantom, { eaPlayActive: true, eaPlayFee: feeSteam, discountPct: eaPlayDiscount, rewardsPct: 0, applyRewards: false });
        const phEA = calcEffective(pricePhantom, { eaPlayActive: true, eaPlayFee: feeEA, discountPct: eaPlayDiscount, rewardsPct: 0, applyRewards: false });
        document.getElementById('card-ph-epic').innerHTML = cardHTML("Epic Games", pricePhantom, phEpic);
        document.getElementById('card-ph-steam').innerHTML = cardHTML("Steam", pricePhantom, phSteam);
        document.getElementById('card-ph-ea').innerHTML = cardHTML("EA App", pricePhantom, phEA);
      } catch (e) {
        showError("Fehler bei der Berechnung: " + e.message);
      }
    }
    function nearlyEqual(a, b, tol = 0.02) {
      return Math.abs(a - b) <= tol;
    }
    function runTests() {
      const out = [];
      const expected = { stdEpic: 51.34, stdSteam: 63.98, stdEA: 63.98, phEpic: 72.94, phSteam: 90.98, phEA: 90.98 };
      // Werte aus dem Default-Case prüfen (immer mit festverdrahteten Werten, unabhängig der UI)
      const stdEpic = calcEffective(69.99, { eaPlayActive: true, eaPlayFee: 0.95, discountPct: 10, rewardsPct: 20, applyRewards: true }).effective;
      const stdSteam = calcEffective(69.99, { eaPlayActive: true, eaPlayFee: 0.99, discountPct: 10, rewardsPct: 0, applyRewards: false }).effective;
      const stdEA = calcEffective(69.99, { eaPlayActive: true, eaPlayFee: 0.99, discountPct: 10, rewardsPct: 0, applyRewards: false }).effective;
      const phEpic = calcEffective(99.99, { eaPlayActive: true, eaPlayFee: 0.95, discountPct: 10, rewardsPct: 20, applyRewards: true }).effective;
      const phSteam = calcEffective(99.99, { eaPlayActive: true, eaPlayFee: 0.99, discountPct: 10, rewardsPct: 0, applyRewards: false }).effective;
      const phEA = calcEffective(99.99, { eaPlayActive: true, eaPlayFee: 0.99, discountPct: 10, rewardsPct: 0, applyRewards: false }).effective;
      out.push(`<li>Standard Epic: ${nearlyEqual(stdEpic, expected.stdEpic) ? "✅" : "❌"} (${stdEpic.toFixed(2)} €)`); 
      out.push(`<li>Standard Steam: ${nearlyEqual(stdSteam, expected.stdSteam) ? "✅" : "❌"} (${stdSteam.toFixed(2)} €)`);
      out.push(`<li>Standard EA: ${nearlyEqual(stdEA, expected.stdEA) ? "✅" : "❌"} (${stdEA.toFixed(2)} €)`);
      out.push(`<li>Phantom Epic: ${nearlyEqual(phEpic, expected.phEpic) ? "✅" : "❌"} (${phEpic.toFixed(2)} €)`);
      out.push(`<li>Phantom Steam: ${nearlyEqual(phSteam, expected.phSteam) ? "✅" : "❌"} (${phSteam.toFixed(2)} €)`);
      out.push(`<li>Phantom EA: ${nearlyEqual(phEA, expected.phEA) ? "✅" : "❌"} (${phEA.toFixed(2)} €)`);
      document.getElementById('testList').innerHTML = out.join('');
    }
    // Event-Listener für Preisfelder
    ['priceStandard','pricePhantom','eaPlayDiscount','epicRewards','useRewards','feeEpic','feeSteam','feeEA'].forEach(id => {
      const el = document.getElementById(id);
      const evt = el.type === 'checkbox' ? 'change' : 'input';
      el.addEventListener(evt, renderPrices);
    });
    document.getElementById('runTests').addEventListener('click', runTests);
    document.addEventListener('DOMContentLoaded', () => {
      renderPrices();
      runTests();
    });
  </script>
</body>
</html>
