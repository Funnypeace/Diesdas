<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Neon Byteâ€‘Racer</title>
  <style>
    :root {
      --bg:#000010;
      --cyan:#00ffff;
      --blue:#0088ff;
      --mag:#ff00ff;
      --white:#eaf6ff;
      --hud:#b0d9ff;
    }
    html,body{height:100%;}
    body{margin:0;background:linear-gradient(180deg,#000010 0%,#000000 100%);display:grid;place-items:center;font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--white)}
    .frame{position:relative;}
    canvas{border:2px solid var(--cyan);image-rendering: pixelated;width: min(90vw, 900px); height:auto; aspect-ratio: 240/136; background:#000022; box-shadow:0 0 24px #00ffff40, inset 0 0 24px #00ffff30;}
    .hud{position:absolute;left:8px;top:8px;font: 10px/1.1 monospace;color:var(--hud);text-shadow:0 0 6px #00f8, 0 0 2px #0ff8}
    .overlay{pointer-events:none;position:absolute;inset:0;display:grid;place-items:center;text-align:center;padding:12px}
    .title{font-weight:700;letter-spacing:0.08em;text-transform:uppercase}
    .btns{position:absolute;inset:0;display:grid;grid-template-columns:1fr 1fr 1fr}
    .btns > div{opacity:.0}
    .hint{font: 12px/1.3 monospace;color:#c8f6ff}
    .kbd{display:inline-block;padding:.12em .5em;border:1px solid #9ff;border-radius:6px;margin:0 .15em;}
    a{color:#9ff}
  </style>
  <!-- GoatCounter -->
  <script async src="https://gc.zgo.at/count.js" data-goatcounter="https://funnypeace.goatcounter.com/count"></script>
  <!-- End GoatCounter -->
</head>
<body>
  <div class="frame">
    <canvas id="tic" width="240" height="136"></canvas>
    <div class="hud" id="hud"></div>
    <div class="overlay" id="overlay"></div>
    <!-- touch zones for mobile (left / restart / right) -->
    <div class="btns" id="touch">
      <div data-act="left"></div>
      <div data-act="restart"></div>
      <div data-act="right"></div>
    </div>
  </div>
  <script>
  // --- helpers --------------------------------------------------------------
  const rnd = (a,b)=>a+Math.random()*(b-a)|0;
  // --- setup ----------------------------------------------------------------
  const c = document.getElementById('tic');
  const ctx = c.getContext('2d');
  const hud = document.getElementById('hud');
  const overlay = document.getElementById('overlay');
  // crisp pixely look
  ctx.imageSmoothingEnabled = false;
  // lanes (x positions)
  const lanesX = [50, 110, 170];
  const LANE_W = 28; // for collision
  // player
  const player = { lane:1, x: lanesX[1]-10, y:110, w:20, h:10, alive:true };
  // road stripes
  const strips = Array.from({length:40}, (_,i)=>({ y: i*8, toggle: !!(i&1) }));
  // game state
  let state = 'menu'; // 'menu' | 'play' | 'over'
  let baseSpeed = 40; // pixels/sec
  let speed = baseSpeed; // will scale with distance
